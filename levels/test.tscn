[gd_scene load_steps=31 format=4 uid="uid://d2rwq3anfdsn8"]

[ext_resource type="Sky" uid="uid://blbb15ddcdlb6" path="res://assets/hdri/EveningSkyHDRI007A_2K.tres" id="1_2grjb"]
[ext_resource type="PackedScene" uid="uid://dmujhjwc5ylgy" path="res://entities/player/Player.tscn" id="1_r4e4k"]
[ext_resource type="Script" uid="uid://b608we0ij00bo" path="res://game/coordinates.gd" id="4_6g8e2"]
[ext_resource type="Material" uid="uid://b2ksgj830wn2e" path="res://shaders/materials/triplanar_ground.tres" id="4_r4e4k"]
[ext_resource type="PackedScene" uid="uid://befxtgrj2bsfu" path="res://greyboxing/doorway_regular.tscn" id="7_kqvnf"]
[ext_resource type="PackedScene" uid="uid://7tpeh28i7txf" path="res://entities/rocks/RockEasy.tscn" id="7_qhvcx"]
[ext_resource type="Script" uid="uid://q1r20nyd6yw7" path="res://game/playuer_hud_manager.gd" id="8_2grjb"]
[ext_resource type="PackedScene" uid="uid://26bbwmyvb8hh" path="res://greyboxing/corner_tall.tscn" id="8_qhvcx"]
[ext_resource type="PackedScene" uid="uid://bifk01itcyh02" path="res://greyboxing/wall_tall.tscn" id="8_uy2g7"]
[ext_resource type="PackedScene" uid="uid://su0i3kmdim4v" path="res://greyboxing/platform_box.tscn" id="10_1w0m8"]
[ext_resource type="PackedScene" uid="uid://cedtd2f606ui6" path="res://greyboxing/room.tscn" id="11_fivcu"]
[ext_resource type="PackedScene" uid="uid://7qj54fhr3era" path="res://greyboxing/tunnel.tscn" id="11_rmkky"]
[ext_resource type="PackedScene" uid="uid://datvju0l021sd" path="res://greyboxing/4_way_tunnel.tscn" id="12_epu3l"]
[ext_resource type="PackedScene" uid="uid://4dfn4tlg7n4o" path="res://greyboxing/3_way_tunnel.tscn" id="13_08uri"]
[ext_resource type="PackedScene" uid="uid://bb8q5e8g11qb6" path="res://systems/shop/Shop.tscn" id="13_drwxn"]
[ext_resource type="PackedScene" uid="uid://b2t6lvcd4qx0f" path="res://greyboxing/dead_end.tscn" id="14_08uri"]
[ext_resource type="PackedScene" uid="uid://bxmma1j1t8188" path="res://greyboxing/h_rect.tscn" id="14_70x8p"]
[ext_resource type="Script" uid="uid://b672f2q5s64b7" path="res://systems/oxygen/low_oxygen_area.gd" id="14_rmkky"]
[ext_resource type="Script" uid="uid://dkhl3ppui7enn" path="res://game/rock_spawner.gd" id="19_uy2g7"]
[ext_resource type="PackedScene" uid="uid://uiig5ud3kjxl" path="res://greyboxing/exchange.tscn" id="20_u1nm5"]
[ext_resource type="PackedScene" uid="uid://bgfpvly4i58fe" path="res://environment/pillar/cave_pillar.tscn" id="21_1w0m8"]

[sub_resource type="Environment" id="Environment_r4e4k"]
background_mode = 2
sky = ExtResource("1_2grjb")
ambient_light_color = Color(0.2094936, 0.13913381, 0.050264053, 1)
ambient_light_sky_contribution = 0.28
tonemap_mode = 4
ssr_enabled = true
ssao_enabled = true
ssil_enabled = true
sdfgi_use_occlusion = true
glow_enabled = true
fog_light_color = Color(0.473885, 0.48978043, 0.33769453, 1)
fog_sky_affect = 0.168
volumetric_fog_enabled = true
volumetric_fog_density = 0.025
volumetric_fog_albedo = Color(0.22496, 0.69789004, 0.8396508, 1)
volumetric_fog_sky_affect = 0.607

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_u1nm5"]
bg_color = Color(0.18378875, 0.090516694, 0.053865835, 1)

[sub_resource type="SystemFont" id="SystemFont_1w0m8"]
font_names = PackedStringArray("Bahnschrift")
font_weight = 800
subpixel_positioning = 0

[sub_resource type="LabelSettings" id="LabelSettings_8a51t"]
font = SubResource("SystemFont_1w0m8")
font_size = 45
font_color = Color(0.46192288, 0.5847424, 0.62693316, 1)

[sub_resource type="ArrayMesh" id="ArrayMesh_qhvcx"]
_surfaces = [{
"aabb": AABB(-50, -0.25, -50, 100, 0.5, 100),
"attribute_data": PackedByteArray("AACAPwAAgD8AAIA/AAAAAAAAAAAAAAAAAACAPwAAgD8AAIA/AAAAAAAAAAAAAAAAAACAPwAAgD8AAIA/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAPwAAgD8AAIA/AAAAAAAAAAAAAAAAAACAPwAAgD8AAIA/AAAAAAAAAAAAAAAAAACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAPwAAgD8AAIA/AACAPwAAgD8AAIA/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAPwAAgD8AAIA/"),
"format": 34359738391,
"material": ExtResource("4_r4e4k"),
"primitive": 3,
"uv_scale": Vector4(0, 0, 0, 0),
"vertex_count": 36,
"vertex_data": PackedByteArray("AABIwgAAgL4AAEhCAABIwgAAgL4AAEjCAABIwgAAgD4AAEjCAABIQgAAgL4AAEjCAABIwgAAgL4AAEjCAABIwgAAgL4AAEhCAABIwgAAgD4AAEjCAABIwgAAgL4AAEjCAABIQgAAgL4AAEjCAABIwgAAgD4AAEjCAABIwgAAgD4AAEhCAABIwgAAgL4AAEhCAABIwgAAgL4AAEhCAABIwgAAgD4AAEhCAABIQgAAgD4AAEhCAABIQgAAgD4AAEhCAABIwgAAgD4AAEhCAABIwgAAgD4AAEjCAABIwgAAgL4AAEhCAABIQgAAgL4AAEhCAABIQgAAgL4AAEjCAABIQgAAgD4AAEhCAABIQgAAgL4AAEhCAABIwgAAgL4AAEhCAABIQgAAgL4AAEjCAABIQgAAgL4AAEhCAABIQgAAgD4AAEhCAABIQgAAgL4AAEjCAABIQgAAgD4AAEjCAABIwgAAgD4AAEjCAABIwgAAgD4AAEjCAABIQgAAgD4AAEjCAABIQgAAgD4AAEhCAABIQgAAgD4AAEhCAABIQgAAgD4AAEjCAABIQgAAgL4AAEjCAAD/f/9//n8AAP9//3/+fwAA/3//f/5//38AAP//AAD/fwAA//8AAP9/AAD//wAA/////wAA/z//////AAD/P/////8AAP8/AAD/f/9//n8AAP9//3/+fwAA/3//f/5//3//fwAA/z//f/9/AAD/P/9//38AAP8//3//////AAD/f/////8AAP9//////wAA/38AAP//AAD/fwAA//8AAP9/AAD//wAA/3//fwAA/z//f/9/AAD/P/9//38AAP8/////f/9//n////9//3/+f////3//f/5//////wAA/z//////AAD/P/////8AAP8//3//////AAD/f/////8AAP9//////wAA////f/9//n////9//3/+f////3//f/5/")
}]

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_kqvnf"]
data = PackedVector3Array(-50, -0.25, 50, -50, -0.25, -50, -50, 0.25, -50, 50, -0.25, -50, -50, -0.25, -50, -50, -0.25, 50, -50, 0.25, -50, -50, -0.25, -50, 50, -0.25, -50, -50, 0.25, -50, -50, 0.25, 50, -50, -0.25, 50, -50, -0.25, 50, -50, 0.25, 50, 50, 0.25, 50, 50, 0.25, 50, -50, 0.25, 50, -50, 0.25, -50, -50, -0.25, 50, 50, -0.25, 50, 50, -0.25, -50, 50, 0.25, 50, 50, -0.25, 50, -50, -0.25, 50, 50, -0.25, -50, 50, -0.25, 50, 50, 0.25, 50, 50, -0.25, -50, 50, 0.25, -50, -50, 0.25, -50, -50, 0.25, -50, 50, 0.25, -50, 50, 0.25, 50, 50, 0.25, 50, 50, 0.25, -50, 50, -0.25, -50)

[sub_resource type="BoxShape3D" id="BoxShape3D_drwxn"]
size = Vector3(10, 5, 10)

[sub_resource type="Curve3D" id="Curve3D_uy2g7"]
_data = {
"points": PackedVector3Array(0, 0, 0, 0, 0, 0, -0.85966706, 1.3844771, 0.62079763, 0, 0, 0, 0, 0, 0, -3.9323084, 1.3483262, -0.41097927, 0, 0, 0, 0, 0, 0, -14.628239, 0.8464322, -1.6839628, 0, 0, 0, 0, 0, 0, -14.763349, 0.36871624, -9.16375, 0, 0, 0, 0, 0, 0, -43.8935, 0.27316523, -9.485559),
"tilts": PackedFloat32Array(0, 0, 0, 0, 0)
}
point_count = 5

[sub_resource type="FogMaterial" id="FogMaterial_uy2g7"]
density = 0.15
emission = Color(0.19831046, 0.20931405, 0.07698644, 1)

[node name="Level" type="Node3D"]

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0.8660254, 0.5, 0, -0.5, 0.8660254, 0, 7.5, 0)
light_color = Color(0.77525723, 0.6606558, 0.5471344, 1)
light_energy = 3.0
shadow_enabled = true

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_r4e4k")

[node name="Player" parent="." instance=ExtResource("1_r4e4k")]
transform = Transform3D(-1, 0, 8.742278e-08, 0, 1, 0, -8.742278e-08, 0, -1, -9, 1.2497026, 0.6751498)

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="HUD" type="Control" parent="CanvasLayer" node_paths=PackedStringArray("death_screen")]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
size_flags_horizontal = 0
mouse_filter = 2
script = ExtResource("8_2grjb")
death_screen = NodePath("../DeathScreen")
metadata/_edit_use_anchors_ = true

[node name="MarginContainer" type="MarginContainer" parent="CanvasLayer/HUD"]
layout_mode = 1
anchors_preset = -1
anchor_top = 1.0
anchor_right = 0.25
anchor_bottom = 1.0
offset_top = -66.0
offset_right = 74.0
grow_vertical = 0
theme_override_constants/margin_left = 12
theme_override_constants/margin_bottom = 12

[node name="VBoxContainer" type="VBoxContainer" parent="CanvasLayer/HUD/MarginContainer"]
layout_mode = 2
size_flags_vertical = 4

[node name="ProgressBar" type="ProgressBar" parent="CanvasLayer/HUD/MarginContainer/VBoxContainer"]
layout_mode = 2
allow_greater = true

[node name="HBoxContainer" type="HBoxContainer" parent="CanvasLayer/HUD/MarginContainer/VBoxContainer"]
layout_mode = 2
size_flags_horizontal = 4
size_flags_vertical = 4

[node name="QuotaLabel" type="Label" parent="CanvasLayer/HUD/MarginContainer/VBoxContainer/HBoxContainer"]
layout_mode = 2
text = "Score:"

[node name="QuotaValueLabel" type="Label" parent="CanvasLayer/HUD/MarginContainer/VBoxContainer/HBoxContainer"]
layout_mode = 2
text = "0"

[node name="CenterContainer" type="CenterContainer" parent="CanvasLayer/HUD"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="Label" type="Label" parent="CanvasLayer/HUD/CenterContainer"]
layout_mode = 2
text = "+"

[node name="Coordinates" type="VBoxContainer" parent="CanvasLayer/HUD" node_paths=PackedStringArray("player")]
layout_mode = 1
anchors_preset = 1
anchor_left = 1.0
anchor_right = 1.0
offset_left = -10.0
offset_top = 46.0
offset_bottom = 123.0
grow_horizontal = 0
mouse_filter = 2
script = ExtResource("4_6g8e2")
player = NodePath("../../../Player")

[node name="X" type="Label" parent="CanvasLayer/HUD/Coordinates"]
layout_mode = 2
text = "X"

[node name="Y" type="Label" parent="CanvasLayer/HUD/Coordinates"]
layout_mode = 2
text = "Y"

[node name="Z" type="Label" parent="CanvasLayer/HUD/Coordinates"]
layout_mode = 2
text = "Z"

[node name="CoinAmountLabel" type="Label" parent="CanvasLayer/HUD"]
layout_mode = 1
offset_left = 33.0
offset_top = 12.0
offset_right = 94.0
offset_bottom = 35.0
text = "Coins: 0"

[node name="OxygenLevel" type="ProgressBar" parent="CanvasLayer/HUD"]
layout_mode = 1
anchors_preset = -1
anchor_top = 1.0
anchor_bottom = 1.0
offset_left = 32.0
offset_top = -356.0
offset_right = 57.0
offset_bottom = -138.0
grow_vertical = 0
value = 100.0
fill_mode = 3

[node name="HealthDisplay" type="ProgressBar" parent="CanvasLayer/HUD"]
layout_mode = 1
anchors_preset = -1
anchor_top = 1.0
anchor_bottom = 1.0
offset_left = 83.0
offset_top = -356.0
offset_right = 108.0
offset_bottom = -138.0
grow_vertical = 0
value = 100.0
fill_mode = 3

[node name="DeathScreen" type="Control" parent="CanvasLayer"]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="PanelContainer" type="PanelContainer" parent="CanvasLayer/DeathScreen"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
theme_override_styles/panel = SubResource("StyleBoxFlat_u1nm5")

[node name="VBoxContainer" type="VBoxContainer" parent="CanvasLayer/DeathScreen/PanelContainer"]
layout_mode = 2
size_flags_vertical = 4

[node name="Label" type="Label" parent="CanvasLayer/DeathScreen/PanelContainer/VBoxContainer"]
layout_mode = 2
size_flags_vertical = 6
text = "You DIED!"
label_settings = SubResource("LabelSettings_8a51t")
horizontal_alignment = 1

[node name="RetryButton" type="Button" parent="CanvasLayer/DeathScreen/PanelContainer/VBoxContainer"]
layout_mode = 2
size_flags_horizontal = 4
size_flags_vertical = 4
theme_override_font_sizes/font_size = 24
text = "Retry"

[node name="ExitButton" type="Button" parent="CanvasLayer/DeathScreen/PanelContainer/VBoxContainer"]
layout_mode = 2
size_flags_horizontal = 4
theme_override_font_sizes/font_size = 24
text = "Title Screen"

[node name="StaticBody3D" type="StaticBody3D" parent="."]
collision_layer = 4
collision_mask = 9

[node name="CSGBakedMeshInstance3D" type="MeshInstance3D" parent="StaticBody3D"]
mesh = SubResource("ArrayMesh_qhvcx")
skeleton = NodePath("../..")

[node name="CSGBakedCollisionShape3D" type="CollisionShape3D" parent="StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_kqvnf")

[node name="StaticBody3D2" type="StaticBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -100)
collision_layer = 4
collision_mask = 9

[node name="CSGBakedMeshInstance3D" type="MeshInstance3D" parent="StaticBody3D2"]
mesh = SubResource("ArrayMesh_qhvcx")
skeleton = NodePath("../..")

[node name="CSGBakedCollisionShape3D" type="CollisionShape3D" parent="StaticBody3D2"]
shape = SubResource("ConcavePolygonShape3D_kqvnf")

[node name="Node3D" type="Node3D" parent="."]
transform = Transform3D(-0.25881907, 0, -0.9659258, 0, 1, 0, 0.9659258, 0, -0.25881907, -12.5, 1.25, 0)

[node name="DoorwayRegular" parent="Node3D" instance=ExtResource("7_kqvnf")]
transform = Transform3D(0.9659256, 0, 0.25881898, 0, 1, 0, -0.25881898, 0, 0.9659256, -1.5554031, 0, -5.545228)

[node name="WallTall2" parent="Node3D" instance=ExtResource("8_uy2g7")]
transform = Transform3D(0.9659256, 0, 0.25881898, 0, 1, 0, -0.25881898, 0, 0.9659256, 2.3082993, 1, -6.5805035)

[node name="CornerTall" parent="Node3D" instance=ExtResource("8_qhvcx")]
transform = Transform3D(0.9659256, 0, 0.25881898, 0, 1, 0, -0.25881898, 0, 0.9659256, 4.481632, 1, -7.162846)

[node name="CornerTall2" parent="Node3D" instance=ExtResource("8_qhvcx")]
transform = Transform3D(0.9659256, 0, 0.25881898, 0, 1, 0, -0.25881898, 0, 0.9659256, -7.5924387, 1, -3.9276075)

[node name="CornerTall3" parent="Node3D" instance=ExtResource("8_qhvcx")]
transform = Transform3D(0.9659256, 0, 0.25881898, 0, 1, 0, -0.25881898, 0, 0.9659256, -4.3572035, 1, 8.146464)

[node name="CornerTall4" parent="Node3D" instance=ExtResource("8_qhvcx")]
transform = Transform3D(0.9659256, 0, 0.25881898, 0, 1, 0, -0.25881898, 0, 0.9659256, 7.716872, 1, 4.911229)

[node name="WallTall3" parent="Node3D" instance=ExtResource("8_uy2g7")]
transform = Transform3D(0.9659256, 0, 0.25881898, 0, 1, 0, -0.25881898, 0, 0.9659256, -5.4191065, 1, -4.509952)

[node name="WallTall10" parent="Node3D" instance=ExtResource("8_uy2g7")]
transform = Transform3D(0.9659256, 0, 0.25881898, 0, 1, 0, -0.25881898, 0, 0.9659256, 1.6798337, 1, 6.528844)

[node name="WallTall11" parent="Node3D" instance=ExtResource("8_uy2g7")]
transform = Transform3D(0.9659256, 0, 0.25881898, 0, 1, 0, -0.25881898, 0, 0.9659256, 5.543538, 1, 5.4935694)

[node name="WallTall12" parent="Node3D" instance=ExtResource("8_uy2g7")]
transform = Transform3D(0.9659256, 0, 0.25881898, 0, 1, 0, -0.25881898, 0, 0.9659256, -2.183869, 1, 7.5641203)

[node name="WallTall6" parent="Node3D" instance=ExtResource("8_uy2g7")]
transform = Transform3D(-0.25881898, 0, 0.9659256, 0, 1, 0, -0.9659256, 0, -0.25881898, 7.13453, 1, 2.737896)

[node name="WallTall13" parent="Node3D" instance=ExtResource("8_uy2g7")]
transform = Transform3D(-0.25881898, 0, 0.9659256, 0, 1, 0, -0.9659256, 0, -0.25881898, 6.0992517, 1, -1.1258116)

[node name="WallTall14" parent="Node3D" instance=ExtResource("8_uy2g7")]
transform = Transform3D(-0.25881898, 0, 0.9659256, 0, 1, 0, -0.9659256, 0, -0.25881898, 5.0639763, 1, -4.9895134)

[node name="WallTall7" parent="Node3D" instance=ExtResource("8_uy2g7")]
transform = Transform3D(-0.25881898, 0, 0.9659256, 0, 1, 0, -0.9659256, 0, -0.25881898, -4.9395447, 1, 5.9731283)

[node name="WallTall15" parent="Node3D" instance=ExtResource("8_uy2g7")]
transform = Transform3D(-0.25881898, 0, 0.9659256, 0, 1, 0, -0.9659256, 0, -0.25881898, -5.974819, 1, 2.1094275)

[node name="WallTall16" parent="Node3D" instance=ExtResource("8_uy2g7")]
transform = Transform3D(-0.25881898, 0, 0.9659256, 0, 1, 0, -0.9659256, 0, -0.25881898, -7.010096, 1, -1.7542763)

[node name="HRect" parent="Node3D" instance=ExtResource("14_70x8p")]
transform = Transform3D(0.9659256, 0, 0.25881898, 0, 1, 0, -0.25881898, 0, 0.9659256, -1.5554031, 2, -5.545228)

[node name="PlatformBox" parent="Node3D" instance=ExtResource("10_1w0m8")]
transform = Transform3D(0.9659256, 0, 0.25881898, 0, 1, 0, -0.25881898, 0, 0.9659256, -2.7662134, 3.5, 5.390788)
size = Vector3(4, 1, 4)

[node name="PlatformBox2" parent="Node3D" instance=ExtResource("10_1w0m8")]
transform = Transform3D(0.9659256, 0, 0.25881898, 0, 1, 0, -0.25881898, 0, 0.9659256, 1.0974896, 3.5, 4.3555117)
size = Vector3(4, 1, 4)

[node name="PlatformBox3" parent="Node3D" instance=ExtResource("10_1w0m8")]
transform = Transform3D(0.9659256, 0, 0.25881898, 0, 1, 0, -0.25881898, 0, 0.9659256, 4.961194, 3.5, 3.3202372)
size = Vector3(4, 1, 4)

[node name="PlatformBox4" parent="Node3D" instance=ExtResource("10_1w0m8")]
transform = Transform3D(0.9659256, 0, 0.25881898, 0, 1, 0, -0.25881898, 0, 0.9659256, -3.8014903, 3.5, 1.5270853)
size = Vector3(4, 1, 4)

[node name="PlatformBox5" parent="Node3D" instance=ExtResource("10_1w0m8")]
transform = Transform3D(0.9659256, 0, 0.25881898, 0, 1, 0, -0.25881898, 0, 0.9659256, 0.06221342, 3.5, 0.4918089)
size = Vector3(4, 1, 4)

[node name="PlatformBox6" parent="Node3D" instance=ExtResource("10_1w0m8")]
transform = Transform3D(0.9659256, 0, 0.25881898, 0, 1, 0, -0.25881898, 0, 0.9659256, 3.9259164, 3.5, -0.5434675)
size = Vector3(4, 1, 4)

[node name="PlatformBox7" parent="Node3D" instance=ExtResource("10_1w0m8")]
transform = Transform3D(0.9659256, 0, 0.25881898, 0, 1, 0, -0.25881898, 0, 0.9659256, -4.8367662, 3.5, -2.3366184)
size = Vector3(4, 1, 4)

[node name="PlatformBox8" parent="Node3D" instance=ExtResource("10_1w0m8")]
transform = Transform3D(0.9659256, 0, 0.25881898, 0, 1, 0, -0.25881898, 0, 0.9659256, -0.9730625, 3.5, -3.371894)
size = Vector3(4, 1, 4)

[node name="PlatformBox9" parent="Node3D" instance=ExtResource("10_1w0m8")]
transform = Transform3D(0.9659256, 0, 0.25881898, 0, 1, 0, -0.25881898, 0, 0.9659256, 2.89064, 3.5, -4.4071693)
size = Vector3(4, 1, 4)

[node name="OmniLight3D" type="OmniLight3D" parent="Node3D"]
transform = Transform3D(-0.25881907, 0, 0.9659258, 0, 1, 0, -0.9659258, 0, -0.25881907, 1.9919107, 2.25, -4.1571975)
light_energy = 5.0
omni_range = 10.0
omni_attenuation = 2.0

[node name="OmniLight3D2" type="OmniLight3D" parent="Node3D"]
transform = Transform3D(-0.25881907, 0, 0.9659258, 0, 1, 0, -0.9659258, 0, -0.25881907, 4.89898, 2.25, 2.8284264)
light_energy = 5.0
omni_range = 10.0
omni_attenuation = 2.0

[node name="OmniLight3D3" type="OmniLight3D" parent="Node3D"]
transform = Transform3D(-0.25881907, 0, 0.9659258, 0, 1, 0, -0.9659258, 0, -0.25881907, -2.9578364, 2.25, 4.4160166)
light_energy = 5.0
omni_range = 10.0
omni_attenuation = 2.0

[node name="OmniLight3D4" type="OmniLight3D" parent="Node3D"]
transform = Transform3D(-0.25881907, 0, 0.9659258, 0, 1, 0, -0.9659258, 0, -0.25881907, -5.252533, 2.25, -2.216054)
light_energy = 5.0
omni_range = 10.0
omni_attenuation = 2.0

[node name="Node3D3" type="Node3D" parent="."]
transform = Transform3D(2.9802322e-08, 0, -1, 0, 1, 0, 1, 0, 2.9802322e-08, 0, 0, -20)

[node name="Room" parent="Node3D3" instance=ExtResource("11_fivcu")]
transform = Transform3D(-4.3711385e-08, 0, 0.9999999, 0, 1, 0, -0.9999999, 0, -4.3711385e-08, 11.500001, 2.75, -16.166565)

[node name="Tunnel4" parent="Node3D3" instance=ExtResource("11_rmkky")]
transform = Transform3D(-4.3711385e-08, 0, 0.9999999, 0, 1, 0, -0.9999999, 0, -4.3711385e-08, 11.5, 2.75, -6.1665654)

[node name="Tunnel5" parent="Node3D3" instance=ExtResource("11_rmkky")]
transform = Transform3D(-4.3711385e-08, 0, 0.9999999, 0, 1, 0, -0.9999999, 0, -4.3711385e-08, -8.5, 2.75, -16.166565)

[node name="4WayTunnel" parent="Node3D3" instance=ExtResource("12_epu3l")]
transform = Transform3D(-4.3711385e-08, 0, 0.9999999, 0, 1, 0, -0.9999999, 0, -4.3711385e-08, 1.5, 2.75, -6.166566)

[node name="4WayTunnel2" parent="Node3D3" instance=ExtResource("12_epu3l")]
transform = Transform3D(-4.3711385e-08, 0, 0.9999999, 0, 1, 0, -0.9999999, 0, -4.3711385e-08, -18.499998, 2.75, -16.166565)

[node name="3WayTunnel" parent="Node3D3" instance=ExtResource("13_08uri")]
transform = Transform3D(-4.3711385e-08, 0, 0.9999999, 0, 1, 0, -0.9999999, 0, -4.3711385e-08, 1.5, 2.75, -16.166565)

[node name="DeadEnd" parent="Node3D3" instance=ExtResource("14_08uri")]
transform = Transform3D(-4.3711385e-08, 0, 0.9999999, 0, 1, 0, -0.9999999, 0, -4.3711385e-08, -28.5, 2.75, -16.166569)

[node name="DeadEnd3" parent="Node3D3" instance=ExtResource("14_08uri")]
transform = Transform3D(-0.9999999, 0, -8.742277e-08, 0, 1, 0, 8.742277e-08, 0, -0.9999999, 1.4999958, 2.75, 3.8334274)

[node name="DeadEnd2" parent="Node3D3" instance=ExtResource("14_08uri")]
transform = Transform3D(2.9802319e-08, 0, 0.9999999, 0, 1, 0, -0.9999999, 0, 2.9802319e-08, -8.5, 2.75, -6.1500006)

[node name="DeadEnd4" parent="Node3D3" instance=ExtResource("14_08uri")]
transform = Transform3D(-0.9999999, 0, -1.3909066e-08, 0, 1, 0, 1.3909066e-08, 0, -0.9999999, -18.499998, 2.75, -6.150001)

[node name="DeadEnd5" parent="Node3D3" instance=ExtResource("14_08uri")]
transform = Transform3D(0.9999999, 0, -7.3513704e-08, 0, 1, 0, 7.3513704e-08, 0, 0.9999999, -18.499998, 2.75, -26.15)

[node name="Shop" parent="." instance=ExtResource("13_drwxn")]
transform = Transform3D(-0.9999999, 0, -8.742276e-08, 0, 1, 0, 8.742276e-08, 0, -0.9999999, -9, 0.75, 5)

[node name="LowOxygenArea" type="Area3D" parent="."]
collision_layer = 0
script = ExtResource("14_rmkky")
difficulty = 10

[node name="CollisionShape3D" type="CollisionShape3D" parent="LowOxygenArea"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 6.5, 2, -21)
shape = SubResource("BoxShape3D_drwxn")

[node name="RockSpawner" type="Path3D" parent="."]
transform = Transform3D(2.9802322e-08, 0, -1, 0, 1, 0, 1, 0, 2.9802322e-08, 6.5, 1, -4)
curve = SubResource("Curve3D_uy2g7")
script = ExtResource("19_uy2g7")
count = 250
rock_scene = ExtResource("7_qhvcx")

[node name="RayCast3D" type="RayCast3D" parent="RockSpawner"]
transform = Transform3D(0.08001094, 0.30646008, 0.9485149, 0, 0.9515656, -0.30744576, -0.996794, 0.024599025, 0.076135665, -43.696457, 0.27424192, -9.476638)
target_position = Vector3(-2.6844575, 0.4300068, -4.196282)
collision_mask = 5

[node name="OmniLight3D" type="OmniLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 14.25, 3.75, -19.25)
light_color = Color(0.96656257, 0.78816503, 0.47723514, 1)
shadow_enabled = true
omni_range = 20.0

[node name="FogVolume" type="FogVolume" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 11.25, 2.25, -13.25)
size = Vector3(19.5, 5.5, 19.5)
material = SubResource("FogMaterial_uy2g7")

[node name="FogVolume2" type="FogVolume" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 16.25, 2.25, -38.5)
size = Vector3(9.5, 5.5, 30)
material = SubResource("FogMaterial_uy2g7")

[node name="Node3D2" parent="." instance=ExtResource("20_u1nm5")]
transform = Transform3D(-0.8660254, 0, 0.49999994, 0, 1, 0, -0.49999994, 0, -0.8660254, -13.991181, 1, 4.467087)

[node name="wall" type="CSGCombiner3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 7.25, 37)
material_override = ExtResource("4_r4e4k")
use_collision = true
collision_layer = 4
collision_mask = 9

[node name="CSGBox3D" type="CSGBox3D" parent="wall"]
size = Vector3(1, 14, 2)

[node name="CSGBox3D2" type="CSGBox3D" parent="wall"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 5, 0, 0)
size = Vector3(9, 14, 1)

[node name="CSGBox3D3" type="CSGBox3D" parent="wall"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -5, 0, 0)
size = Vector3(9, 14, 1)

[node name="wall2" type="CSGCombiner3D" parent="."]
transform = Transform3D(0.8660254, 0, -0.5, 0, 1, 0, 0.5, 0, 0.8660254, -16.5, 7.25, 32.669872)
material_override = ExtResource("4_r4e4k")
use_collision = true
collision_layer = 4
collision_mask = 9

[node name="CSGBox3D" type="CSGBox3D" parent="wall2"]
size = Vector3(1, 14, 2)

[node name="CSGBox3D2" type="CSGBox3D" parent="wall2"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 5, 0, 0)
size = Vector3(9, 14, 1)

[node name="CSGBox3D3" type="CSGBox3D" parent="wall2"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -5, 0, 0)
size = Vector3(9, 14, 1)

[node name="wall6" type="CSGCombiner3D" parent="."]
transform = Transform3D(0.258819, 0, -0.9659258, 0, 1, 0, 0.9659258, 0, 0.258819, -26.915607, 7.25, 20.124445)
material_override = ExtResource("4_r4e4k")
use_collision = true
collision_layer = 4
collision_mask = 9

[node name="CSGBox3D" type="CSGBox3D" parent="wall6"]
size = Vector3(1, 14, 2)

[node name="CSGBox3D2" type="CSGBox3D" parent="wall6"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 5, 0, 0)
size = Vector3(9, 14, 1)

[node name="CSGBox3D3" type="CSGBox3D" parent="wall6"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -5, 0, 0)
size = Vector3(9, 14, 1)

[node name="wall7" type="CSGCombiner3D" parent="."]
transform = Transform3D(-4.4703484e-08, 0, -0.9999999, 0, 1, 0, 0.9999999, 0, -4.4703484e-08, -29.33111, 7.25, 2.0564008)
material_override = ExtResource("4_r4e4k")
use_collision = true
collision_layer = 4
collision_mask = 9

[node name="CSGBox3D" type="CSGBox3D" parent="wall7"]
size = Vector3(1, 14, 2)

[node name="CSGBox3D2" type="CSGBox3D" parent="wall7"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 5, 0, 0)
size = Vector3(9, 14, 1)

[node name="CSGBox3D3" type="CSGBox3D" parent="wall7"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -5, 0, 0)
size = Vector3(9, 14, 1)

[node name="wall3" type="CSGCombiner3D" parent="."]
transform = Transform3D(-0.5, 0, -0.8660255, 0, 1, 0, 0.8660255, 0, -0.5, 10.784609, 7.25, 30.169872)
material_override = ExtResource("4_r4e4k")
use_collision = true
collision_layer = 4
collision_mask = 9

[node name="CSGBox3D" type="CSGBox3D" parent="wall3"]
size = Vector3(1, 14, 2)

[node name="CSGBox3D2" type="CSGBox3D" parent="wall3"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 5, 0, 0)
size = Vector3(9, 14, 1)

[node name="CSGBox3D3" type="CSGBox3D" parent="wall3"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -5, 0, 0)
size = Vector3(9, 14, 1)

[node name="wall4" type="CSGCombiner3D" parent="."]
transform = Transform3D(-0.258819, 0, -0.96592593, 0, 1, 0, 0.96592593, 0, -0.258819, 17.490383, 7.25, 13.984315)
material_override = ExtResource("4_r4e4k")
use_collision = true
collision_layer = 4
collision_mask = 9

[node name="CSGBox3D" type="CSGBox3D" parent="wall4"]
size = Vector3(1, 14, 2)

[node name="CSGBox3D2" type="CSGBox3D" parent="wall4"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 5, 0, 0)
size = Vector3(9, 14, 1)

[node name="CSGBox3D3" type="CSGBox3D" parent="wall4"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -5, 0, 0)
size = Vector3(9, 14, 1)

[node name="wall5" type="CSGCombiner3D" parent="."]
transform = Transform3D(5.9604645e-08, 0, -1.0000001, 0, 1, 0, 1.0000001, 0, 5.9604645e-08, 19.649126, 7.25, -3.402352)
material_override = ExtResource("4_r4e4k")
use_collision = true
collision_layer = 4
collision_mask = 9

[node name="CSGBox3D" type="CSGBox3D" parent="wall5"]
size = Vector3(1, 14, 2)

[node name="CSGBox3D2" type="CSGBox3D" parent="wall5"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 5, 0, 0)
size = Vector3(9, 14, 1)

[node name="CSGBox3D3" type="CSGBox3D" parent="wall5"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -5, 0, 0)
size = Vector3(9, 14, 1)

[node name="cave_pillar" parent="." instance=ExtResource("21_1w0m8")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 13.25, 0.19999999, -15.7)

[node name="cave_pillar2" parent="." instance=ExtResource("21_1w0m8")]
transform = Transform3D(-0.14538923, 0.038956925, 1.7204281, 0.44698045, 1.6681539, 0, -1.661806, 0.44527954, -0.15051802, 13.138085, 0.1234902, -22.32919)

[node name="cave_pillar3" parent="." instance=ExtResource("21_1w0m8")]
transform = Transform3D(1.0443968, -2.1345126e-09, 1.0443968, 1.6413775e-09, 1.477, 1.3772792e-09, -1.0443968, 1.867458e-10, 1.0443968, 10.641117, -0.3082598, -21.147017)

[connection signal="body_entered" from="LowOxygenArea" to="LowOxygenArea" method="_on_body_entered"]
[connection signal="body_exited" from="LowOxygenArea" to="LowOxygenArea" method="_on_body_exited"]
