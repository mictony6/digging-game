[gd_scene load_steps=11 format=4 uid="uid://dmujhjwc5ylgy"]

[ext_resource type="Script" uid="uid://bnobrcsf3x0xq" path="res://entities/player/Player.gd" id="1_4pwj0"]
[ext_resource type="Script" uid="uid://dy74hoyrm4gls" path="res://entities/player/Head.gd" id="2_fmb3c"]
[ext_resource type="Script" uid="uid://d11e4qey5mgdf" path="res://game/tool_manager.gd" id="3_rl6fg"]
[ext_resource type="PackedScene" uid="uid://cnsi80dh14xy6" path="res://effects/hitparticleseffect.tscn" id="4_q57vx"]
[ext_resource type="PackedScene" uid="uid://buxr6qhn67k7e" path="res://effects/break_rock_particles.tscn" id="5_ak4un"]
[ext_resource type="PackedScene" uid="uid://wf6ij42xq2w2" path="res://entities/tools/Tool.tscn" id="6_1ms0h"]

[sub_resource type="CapsuleMesh" id="CapsuleMesh_lkjt4"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_ny0t1"]

[sub_resource type="SphereShape3D" id="SphereShape3D_u45fp"]

[sub_resource type="ArrayMesh" id="ArrayMesh_kqvnf"]
_surfaces = [{
"aabb": AABB(-0.5, 0, 0, 1, 1, 1e-05),
"attribute_data": PackedByteArray("AAAAAAAAgD8AAIA/AACAPwAAgD8AAAAAAACAPwAAAAAAAAAAAAAAAAAAAAAAAIA/"),
"format": 34359738391,
"primitive": 3,
"uv_scale": Vector4(0, 0, 0, 0),
"vertex_count": 6,
"vertex_data": PackedByteArray("AAAAvwAAAAAAAAAAAAAAPwAAAAAAAAAAAAAAPwAAgD8AAAAAAAAAPwAAgD8AAAAAAAAAvwAAgD8AAAAAAAAAvwAAAAAAAAAA//////9/AID//////38AgP//////fwCA//////9/AID//////38AgP//////fwCA")
}, {
"aabb": AABB(-2.1855694e-08, 0, -0.5, 1e-05, 1, 1),
"attribute_data": PackedByteArray("AAAAAAAAgD8AAIA/AACAPwAAgD8AAAAAAACAPwAAAAAAAAAAAAAAAAAAAAAAAIA/"),
"format": 34359738391,
"primitive": 3,
"uv_scale": Vector4(0, 0, 0, 0),
"vertex_count": 6,
"vertex_data": PackedByteArray("Lr27MgAAAAAAAAA/Lr27sgAAAAAAAAC/Lr27sgAAgD8AAAC/Lr27sgAAgD8AAAC/Lr27MgAAgD8AAAA/Lr27MgAAAAAAAAA/AAD/f/9//78AAP9//3//vwAA/3//f/+/AAD/f/9//78AAP9//3//vwAA/3//f/+/")
}]

[node name="Player" type="CharacterBody3D"]
collision_mask = 3
script = ExtResource("1_4pwj0")

[node name="MeshInstance3D" type="MeshInstance3D" parent="."]
mesh = SubResource("CapsuleMesh_lkjt4")

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
shape = SubResource("CapsuleShape3D_ny0t1")

[node name="Head" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.5, 0)
script = ExtResource("2_fmb3c")

[node name="Camera3D" type="Camera3D" parent="Head"]
current = true

[node name="ToolManager" type="Node3D" parent="Head" node_paths=PackedStringArray("tool", "tool_raycast", "tool_area3d")]
script = ExtResource("3_rl6fg")
tool = NodePath("Tool")
tool_raycast = NodePath("RayCast3D")
tool_area3d = NodePath("ToolAreaCollision")
hit_particles = ExtResource("4_q57vx")
break_particles = ExtResource("5_ak4un")
tool_max_cooldown = 0.25

[node name="Tool" parent="Head/ToolManager" instance=ExtResource("6_1ms0h")]

[node name="RayCast3D" type="RayCast3D" parent="Head/ToolManager"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -0.42729235)
target_position = Vector3(0, 0, -2)
collision_mask = 2

[node name="ToolAreaCollision" type="Area3D" parent="Head/ToolManager"]
collision_layer = 0
collision_mask = 2

[node name="CollisionShape3D" type="CollisionShape3D" parent="Head/ToolManager/ToolAreaCollision"]
shape = SubResource("SphereShape3D_u45fp")

[node name="Beam" type="MeshInstance3D" parent="Head/ToolManager"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -1.1719015)
visible = false
cast_shadow = 0
mesh = SubResource("ArrayMesh_kqvnf")
