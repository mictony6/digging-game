[gd_scene format=3 uid="uid://ry7ojknmwfcr"]

[ext_resource type="Script" uid="uid://q53tm1dyumsd" path="res://entities/rocks/rock.gd" id="1_l1ubf"]
[ext_resource type="Resource" uid="uid://bh663u14iqe7m" path="res://data/rocks/RockMediumData.tres" id="2_80551"]
[ext_resource type="PackedScene" uid="uid://b64267mpxut34" path="res://effects/break_mediumrock_particles.tscn" id="3_hx5n2"]
[ext_resource type="PackedScene" uid="uid://t27wsbwa8oer" path="res://systems/health/has_health.tscn" id="4_8vqsr"]
[ext_resource type="Shader" uid="uid://ccadqk2j17kh3" path="res://entities/rocks/rock_crack.gdshader" id="4_hx5n2"]
[ext_resource type="Texture2D" uid="uid://wu4i4oamd3" path="res://shaders/CrackNoiseTexture.res" id="5_l1ubf"]
[ext_resource type="Texture2D" uid="uid://kcgxc04wwpoy" path="res://assets/textures/rock_face/rock_face_03_diff_2k.png" id="6_80551"]
[ext_resource type="ArrayMesh" uid="uid://dlcdqwojx4p17" path="res://assets/meshes/medium_rock/medium_rock_rock_003.res" id="6_eeilx"]
[ext_resource type="Texture2D" uid="uid://tc2ga7kurwpf" path="res://assets/textures/medium_rock/asteroid_normal_map.png" id="7_rsken"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_jos5h"]
render_priority = 0
shader = ExtResource("4_hx5n2")
shader_parameter/rock_albedo = ExtResource("6_80551")
shader_parameter/rock_normal = ExtResource("7_rsken")
shader_parameter/crack_map = ExtResource("5_l1ubf")
shader_parameter/crack_color = Color(0.30406684, 0.05367861, 0.03501535, 1)
shader_parameter/crack_emission_strength = 0.2000000095
shader_parameter/crack_edge_softness = 0.1
shader_parameter/crack_normal_strength = 2.0
shader_parameter/rim = 0.0
shader_parameter/rim_tint = 0.499999988824

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_l1ubf"]
points = PackedVector3Array(-1.5205452, 1.7937866, -0.48043752, -1.1315324, 1.6498327, -0.38446492, -0.63909256, -0.47613814, 0.6488621, 1.2589413, -0.06444443, -1.096882, 0.7578596, -1.0034714, 0.5079806, -1.1052831, 1.1198334, -1.6669371, 0.8160026, -1.3771659, -1.5765214, -1.434409, -0.6978275, -1.9965185, 0.11842841, 1.3119524, -0.68520194, -1.5784106, -0.0675736, -0.32405052, -0.7951239, 0.5517701, 0.5493622, 1.5390385, -0.58841044, -0.2714741, 0.3323633, 0.3435725, -1.6526704, -0.5423183, -1.1638225, 0.042859595, -1.8032303, 1.4500864, -0.53031564, 0.12325434, 1.3346347, -1.0839208, 0.4506247, -1.4312202, -0.26884547, -0.74968785, -1.2651486, -2.0401366, 1.2522144, -0.2675425, -0.0745459, -1.491404, 1.6109104, -1.2127405, -1.3212069, -1.0559665, -1.2068868, -1.2580807, -0.22010276, 0.29128492, 1.4945759, -0.9052847, -0.5827965, -1.5730836, 0.8634699, -1.7210873, -0.6393972, -0.3224506, -1.9719564, 1.0644094, -0.73946285, -1.5144881, 1.1364521, 0.29184118, -0.7871419, -1.6905965, 0.29607832, -1.4698023, -0.75112396, -1.3726517, -1.6780186, 0.99016756, 0.14041969, -1.4469565, -1.2652303, 0.60612786, 0.3491853, 0.34212852, -0.9505354, 0.6630079)

[node name="Rock" type="StaticBody3D" unique_id=1731680115 node_paths=PackedStringArray("mesh")]
transform = Transform3D(0.15085721, 0, -0.9524744, 0, 0.9643472, 0, 0.9524744, 0, 0.15085721, 0, 0, 0)
collision_layer = 2
script = ExtResource("1_l1ubf")
rock_data = ExtResource("2_80551")
break_particles = ExtResource("3_hx5n2")
mesh = NodePath("MeshInstance3D")
metadata/_custom_type_script = "uid://q53tm1dyumsd"

[node name="MeshInstance3D" type="MeshInstance3D" parent="." unique_id=1865963393]
transform = Transform3D(0.29405755, 0, -3.7252903e-09, 0, 0.29405755, 0, 3.7252903e-09, 0, 0.29405755, -3.7252903e-09, 0, 0.2940478)
material_override = SubResource("ShaderMaterial_jos5h")
mesh = ExtResource("6_eeilx")

[node name="CollisionShape3D" type="CollisionShape3D" parent="." unique_id=10026332]
transform = Transform3D(0.29405755, 0, 0, 0, 0.29405755, 0, 0, 0, 0.29405755, 0, 0, 0.2940478)
shape = SubResource("ConvexPolygonShape3D_l1ubf")

[node name="HasHealth" parent="." unique_id=1565073669 instance=ExtResource("4_8vqsr")]
